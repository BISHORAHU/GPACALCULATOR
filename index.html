<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nepal GPA Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #4361ee;
      --secondary-color: #3f37c9;
      --accent-color: #4895ef;
      --success-color: #4cc9f0;
      --warning-color: #f72585;
      --dark-color: #2b2d42;
      --light-color: #f8f9fa;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: linear-gradient(135deg, #f6f8ff 0%, #ffffff 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      padding: 30px;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      border-radius: 15px;
      margin-bottom: 30px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    }

    .calculator-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .subject-card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .subject-card:hover {
      transform: translateY(-5px);
    }

    .subject-header {
      display: flex;
      align-items: center;
      margin-bottom: 15px;
    }

    .subject-icon {
      font-size: 24px;
      margin-right: 10px;
      color: var(--primary-color);
    }

    .input-group {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    .input-field {
      flex: 1;
      position: relative;
    }

    input {
      width: 100%;
      padding: 10px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 14px;
      transition: all 0.3s ease;
    }

    input:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
    }

    .max-marks {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: #888;
      font-size: 12px;
    }

    .button-group {
      display: flex;
      gap: 15px;
      margin: 30px 0;
      justify-content: center;
      flex-wrap: wrap;
    }

    .btn {
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: var(--primary-color);
      color: white;
    }

    .btn-secondary {
      background: var(--secondary-color);
      color: white;
    }

    .btn-demo {
      background: var(--accent-color);
      color: white;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .results-section {
      background: white;
      border-radius: 15px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .result-card {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .result-item {
      text-align: center;
      padding: 20px;
      background: var(--light-color);
      border-radius: 10px;
      transition: transform 0.3s ease;
    }

    .result-item:hover {
      transform: scale(1.05);
    }

    .result-value {
      font-size: 2em;
      font-weight: 600;
      color: var(--primary-color);
      margin: 10px 0;
    }

    .grade-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .grade-table th,
    .grade-table td {
      padding: 12px;
      text-align: center;
      border: 1px solid #ddd;
    }

    .grade-table th {
      background-color: var(--primary-color);
      color: white;
    }

    .grade-table tr:nth-child(even) {
      background-color: #f8f9fa;
    }

    .history-section {
      background: white;
      border-radius: 15px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .history-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .history-table th,
    .history-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .button-group {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.5s ease forwards;
    }

    .footer {
  margin-top: 50px;
  padding: 30px;
  background: white;
  border-radius: 15px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.creator-card {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
  background: linear-gradient(
    135deg,
    var(--primary-color),
    var(--secondary-color)
  );
  border-radius: 10px;
  color: white;
}

.creator-info {
  display: flex;
  align-items: center;
  gap: 20px;
}

.creator-image {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  border: 3px solid white;
  box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
}

.creator-details {
  text-align: center;
}

.creator-details h3 {
  font-size: 0.9em;
  opacity: 0.9;
  margin-bottom: 5px;
}

.creator-details h2 {
  font-size: 1.4em;
  margin-bottom: 5px;
}

.creator-details p {
  font-size: 0.8em;
  opacity: 0.8;
}

.social-links {
  display: flex;
  gap: 15px;
  margin-top: 10px;
  justify-content: center;
}

.social-link {
  color: white;
  font-size: 1.2em;
  transition: transform 0.3s ease;
}

.social-link:hover {
  transform: translateY(-3px);
}

@media (max-width: 768px) {
  .creator-info {
    flex-direction: column;
    text-align: center;
  }
}

  </style>
</head>

<body>
  <div class="footer animate-fade-in">
    <div class="creator-card">
      <div class="creator-info">
        <img src="https://ui-avatars.com/api/?name=Bishowdeep+Bhusal&background=random" alt="Creator" class="creator-image">
        <div class="creator-details">
          <h3>Developed by</h3>
          <h2>Bishowdeep Bhusal</h2>
          <p>Â© 2024 All Rights Reserved</p>
          <div class="social-links">
            <a href="#" class="social-link"><i class="fab fa-github"></i></a>
            <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
            <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="header animate-fade-in">
      <h1><i class="fas fa-calculator"></i> Nepal GPA Calculator</h1>
      <p>Calculate your GPA and percentage with detailed analysis</p>
    </div>

    <div class="calculator-grid">
      <!-- Nepali -->
      <div class="subject-card animate-fade-in">
        <div class="subject-header">
          <i class="fas fa-book subject-icon"></i>
          <h3>Nepali</h3>
        </div>
        <div class="input-group">
          <div class="input-field">
            <input type="number" id="nepali_theory" placeholder="Theory" max="75">
            <span class="max-marks">/75</span>
          </div>
          <div class="input-field">
            <input type="number" id="nepali_practical" placeholder="Practical" max="25">
            <span class="max-marks">/25</span>
          </div>
        </div>
      </div>

      <!-- English -->
      <div class="subject-card animate-fade-in">
        <div class="subject-header">
          <i class="fas fa-language subject-icon"></i>
          <h3>English</h3>
        </div>
        <div class="input-group">
          <div class="input-field">
            <input type="number" id="english_theory" placeholder="Theory" max="75">
            <span class="max-marks">/75</span>
          </div>
          <div class="input-field">
            <input type="number" id="english_practical" placeholder="Practical" max="25">
            <span class="max-marks">/25</span>
          </div>
        </div>
      </div>

      <!-- Science -->
      <div class="subject-card animate-fade-in">
        <div class="subject-header">
          <i class="fas fa-flask subject-icon"></i>
          <h3>Science</h3>
        </div>
        <div class="input-group">
          <div class="input-field">
            <input type="number" id="science_theory" placeholder="Theory" max="75">
            <span class="max-marks">/75</span>
          </div>
          <div class="input-field">
            <input type="number" id="science_practical" placeholder="Practical" max="25">
            <span class="max-marks">/25</span>
          </div>
        </div>
      </div>

      <!-- Social -->
      <div class="subject-card animate-fade-in">
        <div class="subject-header">
          <i class="fas fa-globe subject-icon"></i>
          <h3>Social</h3>
        </div>
        <div class="input-group">
          <div class="input-field">
            <input type="number" id="social_theory" placeholder="Theory" max="75">
            <span class="max-marks">/75</span>
          </div>
          <div class="input-field">
            <input type="number" id="social_practical" placeholder="Practical" max="25">
            <span class="max-marks">/25</span>
          </div>
        </div>
      </div>

      <!-- C.Maths -->
      <div class="subject-card animate-fade-in">
        <div class="subject-header">
          <i class="fas fa-square-root-alt subject-icon"></i>
          <h3>C.Maths</h3>
        </div>
        <div class="input-group">
          <div class="input-field">
            <input type="number" id="cmaths_theory" placeholder="Theory" max="75">
            <span class="max-marks">/75</span>
          </div>
          <div class="input-field">
            <input type="number" id="cmaths_practical" placeholder="Practical" max="25">
            <span class="max-marks">/25</span>
          </div>
        </div>
      </div>

      <!-- O.Maths -->
      <div class="subject-card animate-fade-in">
        <div class="subject-header">
          <i class="fas fa-calculator subject-icon"></i>
          <h3>O.Maths</h3>
        </div>
        <div class="input-group">
          <div class="input-field">
            <input type="number" id="omaths_theory" placeholder="Theory" max="75">
            <span class="max-marks">/75</span>
          </div>
          <div class="input-field">
            <input type="number" id="omaths_practical" placeholder="Practical" max="25">
            <span class="max-marks">/25</span>
          </div>
        </div>
      </div>

      <!-- Computer -->
      <div class="subject-card animate-fade-in">
        <div class="subject-header">
          <i class="fas fa-laptop-code subject-icon"></i>
          <h3>Computer</h3>
        </div>
        <div class="input-group">
          <div class="input-field">
            <input type="number" id="computer_theory" placeholder="Theory" max="50">
            <span class="max-marks">/50</span>
          </div>
          <div class="input-field">
            <input type="number" id="computer_practical" placeholder="Practical" max="25">
            <span class="max-marks">/25</span>
          </div>
        </div>
      </div>
    </div>

    <div class="button-group">
      <button class="btn btn-primary" onclick="calculateGPA()">
        <i class="fas fa-calculator"></i> Calculate GPA
      </button>
      <button class="btn btn-secondary" onclick="resetForm()">
        <i class="fas fa-redo"></i> Reset
      </button>
      <button class="btn btn-demo" onclick="loadDemoData()">
        <i class="fas fa-play"></i> Load Demo Data
      </button>
    </div>

    <div class="results-section" id="results" style="display: none;">
      <h2><i class="fas fa-chart-bar"></i> Results</h2>
      <div class="result-card">
        <div class="result-item">
          <h3>Total Marks</h3>
          <div class="result-value" id="totalMarks">0/675</div>
        </div>
        <div class="result-item">
          <h3>Percentage</h3>
          <div class="result-value" id="percentage">0%</div>
        </div>
        <div class="result-item">
          <h3>GPA</h3>
          <div class="result-value" id="gpa">0.0</div>
        </div>
        <div class="result-item">
          <h3>Grade</h3>
          <div class="result-value" id="grade">F</div>
        </div>
      </div>
    </div>

    <div class="grade-scale">
      <h2><i class="fas fa-graduation-cap"></i> Nepali Grading System</h2>
      <table class="grade-table">
        <thead>
          <tr>
            <th>S.N.</th>
            <th>Percentage</th>
            <th>Grade</th>
            <th>GPA Range</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>90-100</td>
            <td>A+</td>
            <td>4.0-3.6</td>
          </tr>
          <tr>
            <td>2</td>
            <td>80-90</td>
            <td>A</td>
            <td>3.2-3.6</td>
          </tr>
          <tr>
            <td>3</td>
            <td>70-80</td>
            <td>B+</td>
            <td>2.8-3.2</td>
          </tr>
          <tr>
            <td>4</td>
            <td>60-70</td>
            <td>B</td>
            <td>2.4-2.8</td>
          </tr>
          <tr>
            <td>5</td>
            <td>50-60</td>
            <td>C+</td>
            <td>2.0-2.4</td>
          </tr>
          <tr>
            <td>6</td>
            <td>40-50</td>
            <td>C</td>
            <td>1.6-2.0</td>
          </tr>
          <tr>
            <td>7</td>
            <td>30-40</td>
            <td>D+</td>
            <td>1.2-1.6</td>
          </tr>
          <tr>
            <td>8</td>
            <td>20-30</td>
            <td>D</td>
            <td>0.8-1.2</td>
          </tr>
          <tr>
            <td>9</td>
            <td>Below 20</td>
            <td>E</td>
            <td>0.0-0.8</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="history-section">
      <h2><i class="fas fa-history"></i> Calculation History</h2>
      <table class="history-table">

        <head>
          <tr>
            <th>Date</th>
            <th>Total Marks</th>
            <th>Percentage</th>
            <th>GPA</th>
            <th>Grade</th>
          </tr>
        </head>
        <tbody id="historyTableBody">
          <!-- History entries will be added here -->
        </tbody>
      </table>
    </div>

  </div>

  <script>
    // Initialize history array in localStorage if it doesn't exist
    if (!localStorage.getItem('calculationHistory')) {
      localStorage.setItem('calculationHistory', JSON.stringify([]));
    }

    function loadDemoData() {
      const demoData = {
        'nepali_theory': 68,
        'nepali_practical': 21,
        'english_theory': 69,
        'english_practical': 20,
        'science_theory': 74,
        'science_practical': 24,
        'social_theory': 60,
        'social_practical': 24,
        'cmaths_theory': 69,
        'cmaths_practical': 25,
        'omaths_theory': 74,
        'omaths_practical': 24,
        'computer_theory': 46,
        'computer_practical': 24
      };
      Object.keys(demoData).forEach(id => {
        document.getElementById(id).value = demoData[id];
      });
    }

    function validateInput(value, max) {
      return value >= 0 && value <= max;
    }

    function getGrade(percentage) {
      if (percentage >= 90) return 'A+';
      else if (percentage >= 80) return 'A';
      else if (percentage >= 70) return 'B+';
      else if (percentage >= 60) return 'B';
      else if (percentage >= 50) return 'C+';
      else if (percentage >= 40) return 'C';
      else if (percentage >= 30) return 'D+';
      else if (percentage >= 20) return 'D';
      else return 'E';
    }

    function getGPA(percentage) {
      if (percentage >= 90) return 4.0;
      else if (percentage >= 80) return 3.6;
      else if (percentage >= 70) return 3.2;
      else if (percentage >= 60) return 2.8;
      else if (percentage >= 50) return 2.4;
      else if (percentage >= 40) return 2.0;
      else if (percentage >= 30) return 1.6;
      else if (percentage >= 20) return 1.2;
      else return 0.8;
    }

    function calculateGPA() {
      const subjects = [{
          name: 'nepali',
          theoryMax: 75,
          practicalMax: 25
        },
        {
          name: 'english',
          theoryMax: 75,
          practicalMax: 25
        },
        {
          name: 'science',
          theoryMax: 75,
          practicalMax: 25
        },
        {
          name: 'social',
          theoryMax: 75,
          practicalMax: 25
        },
        {
          name: 'cmaths',
          theoryMax: 75,
          practicalMax: 25
        },
        {
          name: 'omaths',
          theoryMax: 75,
          practicalMax: 25
        },
        {
          name: 'computer',
          theoryMax: 50,
          practicalMax: 25
        }
      ];
      let totalMarks = 0;
      let totalFullMarks = 0;
      let totalGPA = 0;
      let isValid = true;
      subjects.forEach(subject => {
        const theory = parseFloat(document.getElementById(subject.name + '_theory').value) || 0;
        const practical = parseFloat(document.getElementById(subject.name + '_practical').value) || 0;
        if (!validateInput(theory, subject.theoryMax) || !validateInput(practical, subject.practicalMax)) {
          alert(`Invalid marks for ${subject.name.toUpperCase()}. Please check the input values.`);
          isValid = false;
          return;
        }
        const subjectTotal = theory + practical;
        const subjectFullMarks = subject.theoryMax + subject.practicalMax;
        const subjectPercentage = (subjectTotal / subjectFullMarks) * 100;
        const subjectGPA = getGPA(subjectPercentage);
        totalGPA += subjectGPA;
        totalMarks += subjectTotal;
        totalFullMarks += subjectFullMarks;
      });
      if (!isValid) return;
      const percentage = (totalMarks / totalFullMarks) * 100;
      const finalGPA = (totalGPA / subjects.length).toFixed(2); // Average GPA of all subjects
      const grade = getGrade(percentage);
      // Display results
      document.getElementById('results').style.display = 'block';
      document.getElementById('totalMarks').textContent = `${totalMarks}/${totalFullMarks}`;
      document.getElementById('percentage').textContent = `${percentage.toFixed(2)}%`;
      document.getElementById('gpa').textContent = finalGPA;
      document.getElementById('grade').textContent = grade;
      // Save to history
      saveToHistory(totalMarks, totalFullMarks, percentage, finalGPA, grade);
    }

    function saveToHistory(totalMarks, totalFullMarks, percentage, gpa, grade) {
      const history = JSON.parse(localStorage.getItem('calculationHistory'));
      const newEntry = {
        date: new Date().toLocaleString(),
        totalMarks: totalMarks,
        totalFullMarks: totalFullMarks,
        percentage: percentage.toFixed(2),
        gpa: gpa.toFixed(1),
        grade: grade
      };
      history.unshift(newEntry);
      if (history.length > 10) history.pop();
      localStorage.setItem('calculationHistory', JSON.stringify(history));
      updateHistoryTable();
    }

    function updateHistoryTable() {
      const history = JSON.parse(localStorage.getItem('calculationHistory'));
      const tableBody = document.getElementById('historyTableBody');
      tableBody.innerHTML = '';
      history.forEach(entry => {
        const row = document.createElement('tr');
        row.innerHTML = `
                    <td>${entry.date}</td>
                    <td>${entry.totalMarks}/${entry.totalFullMarks}</td>
                    <td>${entry.percentage}%</td>
                    <td>${entry.gpa}</td>
                    <td>${entry.grade}</td>
                `;
        tableBody.appendChild(row);
      });
    }

    function resetForm() {
      const inputs = document.querySelectorAll('input');
      inputs.forEach(input => input.value = '');
      document.getElementById('results').style.display = 'none';
    }
    // Load history when page loads
    updateHistoryTable();
    // Add input validation for all fields
    document.querySelectorAll('input').forEach(input => {
      input.addEventListener('input', function() {
        const max = parseInt(this.getAttribute('max'));
        if (this.value > max) {
          this.value = max;
        }
        if (this.value < 0) {
          this.value = 0;
        }
      });
    });
  </script>
</body>

</html>
